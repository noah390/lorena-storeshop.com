<!DOCTYPE html>
<html>
<head>
    <title>Fix Firebase - Lorena Store</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 2rem auto; padding: 1rem; }
        .step { background: #f8f9fa; padding: 1rem; margin: 1rem 0; border-radius: 8px; }
        .code { background: #e9ecef; padding: 0.5rem; border-radius: 4px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>Fix Firebase Permissions - 2 Minutes</h1>
    
    <div class="step">
        <h3>Step 1: Open Firebase Console</h3>
        <p>Go to: <a href="https://console.firebase.google.com/project/lorena-store-9124a/database/lorena-store-9124a-default-rtdb/rules" target="_blank">Firebase Rules</a></p>
    </div>

    <div class="step">
        <h3>Step 2: Replace Rules</h3>
        <p>Replace the rules with:</p>
        <div class="code">
{<br>
&nbsp;&nbsp;"rules": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;".read": true,<br>
&nbsp;&nbsp;&nbsp;&nbsp;".write": true<br>
&nbsp;&nbsp;}<br>
}
        </div>
    </div>

    <div class="step">
        <h3>Step 3: Click "Publish"</h3>
        <p>Click the blue "Publish" button to save changes.</p>
    </div>

    <div class="step">
        <h3>Step 4: Test Population</h3>
        <button onclick="testPopulate()" style="background: #e75480; color: white; padding: 0.8rem 1.5rem; border: none; border-radius: 8px; cursor: pointer;">Test Firebase Population</button>
        <div id="result" style="margin-top: 1rem;"></div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDSQ0LE6OgOlWBjFCSF8XuXRBjBqKVVMpE",
            authDomain: "lorena-store-9124a.firebaseapp.com",
            databaseURL: "https://lorena-store-9124a-default-rtdb.firebaseio.com/",
            projectId: "lorena-store-9124a",
            storageBucket: "lorena-store-9124a.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };
        
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        function testPopulate() {
            const result = document.getElementById('result');
            result.innerHTML = 'Testing...';
            
            database.ref('products/test').set({
                name: 'Test Product',
                price: 1000,
                timestamp: Date.now()
            }).then(() => {
                result.innerHTML = '<div style="color: green;">✅ Success! Firebase is working.</div>';
            }).catch(error => {
                result.innerHTML = `<div style="color: red;">❌ Still blocked: ${error.message}</div>`;
            });
        }
    </script>
</body>
</html>